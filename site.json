{"title":"Moment.apex","githubRepo":"Click-to-Cloud/Moment.apex","googleAnalytics":"","index":{"title":"Home","description":"Moment.apex is a library that parses, manipulates and displays dates and times in Apex.","content":" Date/Time Parsing Moment.apex can parse Date/Time from strings in a wide range of formats. Date/Time Manipulation Moment.apex provides a rich set of APIs to manipuate Date/Time. Date/Time Display Moment.apex can display a humanized string of Date/Time duration. ","srcFilePath":"src/pages/index.soy","id":"pages","location":"/./","url":"/moment-apex/./","children":{"docs":{"title":"Docs","description":"Everything you need to know to get started.","content":" Docs Start learning how to leverage the power of . Choose a Guide Each one provide step by step coverage for every core feature. ","srcFilePath":"src/pages/docs/index.soy","id":"docs","location":"/docs/","url":"/moment-apex/docs/","children":{"search":{"title":"Search","description":"Find what you're looking for in the documentation.","hidden":true,"content":" Electric Docs Start learning how to leverage the power of . ","srcFilePath":"src/pages/docs/search.soy","id":"search","location":"/docs/search.html","url":"/moment-apex/docs/search.html"},"Conversion":{"title":"Conversion","description":"Conversion of Moments","layout":"guide","icon":"flash","weight":1,"content":" {$page.description} Moment Constructors Moment.apex has various constructors to build an instance in any situation. | Constructor | Description | | ----------- | ----------- | | Moment() | Create a Moment based on now | | Moment(Datetime) | Create a Moment based on the Datetime | | Moment(Date) | Create a Moment based on the Date, with time fields set to 0 | | Moment(Time) | Create a Moment based on the Time, with the date as today | | Moment(Long) | Create a Moment based on the time in milliseconds | | Moment(String) | Create a Moment by parsing the string according to the locale | | Moment(String, String) | Create a Moment by parsing the string according to the pattern | | Moment(String, List&lt;String&gt;) | Create a Moment by parsing the string according to a list of patterns | | Moment(String, Moment.Format) | Create a Moment by parsing the string according to the predefined Moment.Format | | Moment(Date, Time) | Create a Moment by combining the Date and Time | | Moment(Integer, Integer, Integer) | Create a Moment with the year, month, and day | | Moment(Integer, Integer, Integer, Integer, Integer, Integer) | Create a Moment with the year, month, day, hour, minute, and second | | Moment(Integer, Integer, Integer, Integer, Integer, Integer, Integer) | Create a Moment with the year, month, day, hour, minute, second and millisecond | | Moment(Map&lt;String, Integer&gt;) | Create a Moment with a map of the fields(year, month, day, hour, minute, second, and millisecond) | | Moment(List&lt;Integer&gt;) | Create a Moment with a list of the fields(year, month, day, hour, minute, second, and millisecond) | | Moment(Moment) | Create a Moment with an existing Moment | | Moment(Moment.DatetimeInfo) | Create a Moment with the DatetimeInfo | Date/Time parsing accepts the same patterns as Date/Time formatting. Below is the table of rules supported. | Character | Description | | --------- | ----------- | | y | Year | | Y | Week year | | M | Month in year | | d | Day in month | | a | Am/pm marker | | H | Hour in day (0-23) | | k | Hour in day (1-24) | | K | Hour in am/pm (0-11) | | h | Hour in am/pm (1-12) | | m | Minute in hour | | s | Second in minute | | S | Millisecond | | w | Week in year | | E | Day name in week | | u | Day number of week (1 = Monday, ..., 7 = Sunday) | | W | Week in month | | D | Day in year | | F | Day of week in month | Get Date/Time Out of Moment Moment.apex has various constructors to get Date/Time out of a Moment. | Method | Description | | ----------- | ----------- | | toDate | Get Date from Moment | | toTime | Get Time from Moment | | toDatetime | Get Datetime from Moment | | toDatetimeInfo | Get DatetimeInfo from Moment | | getTime | Get time in milliseconds from Moment | | valueOf | Get time in milliseconds from Moment | | toList | Get a list of field values(year, month, day, hour, minute, second, and millisecond) from Moment | | toMap | Get a map of field values(year, month, day, hour, minute, second, and millisecond) from Moment | | toString | Get a string representation of Moment | Timezone Moment.apex works only in current timezone, and does not handle GMT Date/Time. ","srcFilePath":"src/pages/docs/Conversion/index.md","id":"Conversion","location":"/docs/Conversion/","url":"/moment-apex/docs/Conversion/"},"Duration":{"title":"Duration","description":"Duration","layout":"guide","icon":"cloud","weight":4,"content":" {$page.description} Duration Constructors Here are the Duration constructors. | Constructor | Description | | ----------- | ----------- | | Duration(Long, Map&lt;String, Integer&gt;) | Create a Duration from time in milliseconds and different units of time | | Duration(Map&lt;String, Integer&gt;) | Create a Duration from different units of time | | Duration(Integer, String) | Create a Duration from some units of time | | Duration(Long) | Create a Duration from time in milliseconds | Get Time Out of Duration | Method | Description | | ------ | ----------- | | getTime() | Get time in millis from Duration | | getFields() | Get units of time from Duration | Display Duration | Method | Description | | ------ | ----------- | | humanize() | Show the humanized string without suffix | | humanize(Boolean) | Show the humanized string with or without suffix | Getters | Method | Description | | ------ | ----------- | | years() | Get years | | asYears() | Get years | | months() | Get months | | asMonths() | Get months | | days() | Get days | | asDays() | Get days | | hours() | Get hours | | asHours() | Get hours | | minutes() | Get minutes | | asMinutes() | Get minutes | | seconds() | Get seconds | | asSeconds() | Get seconds | | milliseconds() | Get milliseconds | | asMilliseconds() | Get milliseconds | | weeks() | Get weeks | | asWeeks() | Get weeks | Generic getters: | Method | Description | | ------ | ----------- | | field(String) | Get the field | | asField(String) | Get the field | | get(String) | Get the field | Operation Moment.apex also enables operations like adding/subtracting on fields of Duration. | Method | Description | | ------ | ----------- | | add(Moment.Duration) | Add a duration | | add(Long) | Add time in milliseconds | | add(Integer, String) | Add some units of time | | add(Map&lt;String, Integer&gt;) | Add different units of time | | subtract(Moment.Duration) | Subtract a duration | | subtract(Long) | Subtract time in milliseconds | | subtract(Integer, String) | Subtract some units of time | | subtract(Map&lt;String, Integer&gt;) | Subtract different units of time | | negate() | Negate the duration | ","srcFilePath":"src/pages/docs/Duration/index.md","id":"Duration","location":"/docs/Duration/","url":"/moment-apex/docs/Duration/"},"Methods":{"title":"Methods","description":"Moment Instance Methods","layout":"guide","icon":"code-file","weight":2,"content":" {$page.description} Getter/Setter Moment.apex has getters/setters for Date/Time fields like: Moment m = new Moment(); m.hour(12); // set the hour m.hours(12); // set the hour m.hour(); // get the hour m.hours(); // get the hour Below is the table of the fields supporting these getters/setters. | Field | Description | | ----- | ----------- | | millisecond(s) | Get/set the millisecond | | second(s) | Get/set the second | | minute(s) | Get/set the minute | | hour(s) | Get/set the hour | | day(s) | Get/set the day | | month(s) | Get/set the day | | year(s) | Get/set the year | | dayOfWeek | Get/set the day of week | | dayOfYear | Get/set the day of year | | week(s) | Get/set the week of year | | quarter(s) | Get/set the quarter of year | Besides, we have generic methods to access Date/Time fields. Moment m = new Moment(); m.field('year'); // get the year m.field('year', 2018); // set the year | Method | Description | | ------ | ----------- | | field | Get/set the field | Query Moment.apex has utility methods for querying. | Method | Description | | ------ | ----------- | | weeksInYear() | Get the number of weeks in year | | startOf(String) | Get the start moment of the Date/Time field | | endOf(String) | Get the end moment of the Date/Time field | | debug() | Print the debug information | | diff(Moment) | Create a duration between two moments | | daysInMonth() | Get the days in the current month | | isBefore(Moment) | Check if it is before the other moment | | isSame(Moment) | Check if it is the same as the other moment | | isAfter(Moment) | Chekc if it is after the other moment | | isSameOrBefore(Moment) | Check if it is the same or before the other moment | | isSameOrAfter(Moment) | Check if it is the same or after the other moment | | isBetween(Moment, Moment) | Check if it is between these two moments | | isLeapYear() | Check if it is the leap year | Operation Moment.apex also enables operations like adding/subtracting on fields of Moment. | Method | Description | | ------ | ----------- | | add(Moment.Duration) | Add a duration | | add(Long) | Add time in milliseconds | | add(Integer, String) | Add some units of time | | add(Map&lt;String, Integer&gt;) | Add different units of time | | subtract(Moment.Duration) | Subtract a duration | | subtract(Long) | Subtract time in milliseconds | | subtract(Integer, String) | Subtract some units of time | | subtract(Map&lt;String, Integer&gt;) | Subtract different units of time | Display Moment.apex includes APIs to display Date/Time. | Method | Description | | ------ | ----------- | | format(String) | Format the Moment using the format | | fromMoment(Moment) | Show the duration from the moment with prefix | | fromMoment(Moment, Boolean) | Show the duration from the moment with or without prefix | | fromNow(Boolean) | Show the duration from now with or without prefix | | fromNow() | Show the duration from now with prefix | | toMoment(Moment) | Show the duration to the moment with prefix | | toMoment(Moment, Boolean) | Show the duration to the moment with or without prefix | | toNow() | Show the duration to now with prefix | | toNow(Boolean) | Show the duration to now with or without prefix | Units Moment.apex supports the below units, and any shortened strings(case-insensitive) that can uniquely pick a field out. Moment m = new Moment(); m.field('year'); // standard m.field('years'); // also work m.field('yea'); // fine m.field('y'); // works m.field('Y'); // cool | Unit | Description | | ---- | ----------- | | year | year | | month | month | | day | day | | hour | hour | | minute | minute | | second | second | | millisecond | millisecond | | week | week | | quarter | quarter | Static Methods Moment.apex has a few static methods/fields. | Method | Description | | ------ | ----------- | | YEAR | year | | MONTH | month | | DAY | day | | HOUR | hour | | MINUTE | minute | | SECOND | second | | MILLISECOND | millisecond | | WEEK | week | | QUARTER | quarter | | UNITS | a list of units | | DURATION_YEAR | the milliseconds of year | | DURATION_MONTH | the milliseconds of month | | DURATION_DAY | the milliseconds of day | | DURATION_HOUR | the milliseconds of hour | | DURATION_MINUTE | the milliseconds of minute | | DURATION_SECOND | the milliseconds of second | | DURATION_MILLISECOND | the milliseconds of millisecond | | DURATION_WEEK | the milliseconds of week | | DURATION_QUARTER | the milliseconds of quarter | | FORMAT_DATE | 'dd/MM/yyyy' | | FORMAT_TIME | 'HH:mm:ss' | | FORMAT_DATETIME | 'dd/MM/yyyy HH:mm:ss' | | duration(Long) | Create a Duration from time in milliseconds | | duration(Integer, String) | Create a Duration from some units of time | | duration(Map&lt;String, Integer&gt;) | Create a Duration from different units of time | | normalize(String) | Normalize a string of unit | ","srcFilePath":"src/pages/docs/Methods/index.md","id":"Methods","location":"/docs/Methods/","url":"/moment-apex/docs/Methods/"}},"childIds":["Conversion","Methods","Duration","search"]},"tutorials":{"title":"Tutorials","description":"The tutorials","url":"/moment-apex/tutorials/getting_started/step_1.html","layout":false,"content":" ","srcFilePath":"src/pages/tutorials/index.soy","id":"tutorials","location":"/tutorials/","customURL":true,"children":{"getting_started":{"title":"Getting Started","description":"The Getting Started Tutorial","tutorialTitle":"Getting started with Moment.apex","url":"/moment-apex/tutorials/getting_started/step_1.html","layout":false,"content":" ","srcFilePath":"src/pages/tutorials/getting_started/index.soy","id":"getting_started","location":"/tutorials/getting_started/","customURL":true,"children":{"step_1":{"title":"Installation","description":"Include Apex files","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":1,"content":" {$page.title} Include Moment.cls, and MomentTest.cls(optional) into your Org, and you are ready to go. ","srcFilePath":"src/pages/tutorials/getting_started/step_1.md","id":"step_1","location":"/tutorials/getting_started/step_1.html","url":"/moment-apex/tutorials/getting_started/step_1.html"},"step_2":{"title":"Date/Time Parsing","description":"Date/Time Parsing","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":2,"content":" {$page.title} To parse Date/Time from strings, create an instance of Moment like this: new Moment('2018/01/18 14:20:00', 'yyyy/MM/dd HH:mm:ss'); ","srcFilePath":"src/pages/tutorials/getting_started/step_2.md","id":"step_2","location":"/tutorials/getting_started/step_2.html","url":"/moment-apex/tutorials/getting_started/step_2.html"},"step_3":{"title":"Date/Time Manipulation","description":"Date/Time Manipulation","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":3,"content":" {$page.title} You can choose from a wide range of APIs provided by Moment.apex to manipulate Date/Time. new Moment().add(1, 'month').subtract(3, 'days'); // 2018-06-01 11:25:37 new Moment().year(2018).month(3).day(1).hour(12).minute(0).second(0); // 2018-03-01 12:00:00 new Moment().year(); // 2018 ","srcFilePath":"src/pages/tutorials/getting_started/step_3.md","id":"step_3","location":"/tutorials/getting_started/step_3.html","url":"/moment-apex/tutorials/getting_started/step_3.html"},"step_4":{"title":"Date/Time Display","description":"Date/Time Display","buttonTitle":"Done","parentId":"getting_started","layout":"tutorial","time":90,"weight":4,"content":" {$page.title} We can format Date/Time, and also we can show humanized duration strings. new Moment().format('yyyy/MM/dd'); // 2018/05/04 new Moment().add(3, 'days').fromNow(); // in 3 days ","srcFilePath":"src/pages/tutorials/getting_started/step_4.md","id":"step_4","location":"/tutorials/getting_started/step_4.html","url":"/moment-apex/tutorials/getting_started/step_4.html"}},"childIds":["step_1","step_2","step_3","step_4"]}},"childIds":["getting_started"]}},"childIds":["docs","tutorials"]},"basePath":"/moment-apex"}